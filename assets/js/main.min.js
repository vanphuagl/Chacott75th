"use strict";function raf(e){lenis.raf(e),requestAnimationFrame(raf)}const init=()=>{console.clear(),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.clearScrollMemory("manual"),ScrollTrigger.refresh(),window.innerWidth<1024&&ScrollTrigger.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"}),appHeight(),initLoader(),scrollLogoShrink();new LazyLoad({threshold:0})},lenis=new Lenis({lerp:.05,smoothWheel:!0});lenis.on("scroll",ScrollTrigger.update),requestAnimationFrame(raf);const initLoader=()=>{lenis.stop();const e=gsap.timeline({onComplete:()=>{lenis.start()}});e.to("[data-loading-logo]",{opacity:1,duration:1,delay:1,ease:Power4.easeInOut}).to("[data-loading-overlay]",{top:0,duration:1.8,ease:Power4.easeOut,onComplete:()=>{gsap.to("[data-loading]",{zIndex:"-100"})}}).to("[data-header-logo], [data-scrolldown]",{opacity:1,duration:1,delay:4.5,ease:Power4.easeInOut})},appHeight=()=>{const e=document.documentElement;e.style.setProperty("--app-height",`${document.documentElement.clientHeight}px`)};window.addEventListener("resize",appHeight);const scrollLogoShrink=()=>{let e=gsap.matchMedia(),t=1024;e.add({isDesktop:`(min-width: ${t}px)`,isMobile:`(max-width: ${t-1}px)`},e=>{let{isMobile:t}=e.conditions;ScrollTrigger.create({animation:gsap.from("[data-logo-shrink]",{height:"100%",width:"100%",duration:1,ease:"power1.inOut"}),start:100,trigger:"[data-offset-top]",start:"top+=50 top",end:"top top",toggleActions:"play none reverse none",markers:!1,onEnter:()=>{gsap.to("[data-header-logo], [data-scrolldown]",{opacity:0,duration:.5}),gsap.to("[data-logo-shrink] svg",{y:0})},onEnterBack:()=>{gsap.to("[data-header-logo], [data-scrolldown]",{opacity:1,duration:.5,delay:.5}),gsap.to("[data-logo-shrink] svg",{y:t?-30:0})}})})},[fadeInArray]=[document.querySelectorAll("[data-fadein]")],addFadeOnElements=function(e){if(e)for(let t=0;t<e.length;t++){let o=e[t],n=o.getBoundingClientRect().top-window.innerHeight+100;n<0&&o.classList.add("--visible")}};window.addEventListener("scroll",function(){addFadeOnElements(fadeInArray)}),ScrollTrigger.create({animation:gsap.to("[data-logo-shrink]",{opacity:0,duration:.8,ease:Power4.easeInOut}),trigger:"[data-top-chacott]",start:"top+=10% center",end:"top+=10% center",toggleActions:"play none reverse none",markers:!1});let panels=gsap.utils.toArray("section");panels.pop(),panels.forEach((e,t)=>{gsap.timeline({scrollTrigger:{trigger:e,start:"bottom bottom",pinSpacing:!1,pin:!0,scrub:!0,markers:!1,invalidateOnRefresh:!0,onRefresh:()=>{gsap.set(e,{transformOrigin:"center "+(window.innerHeight+e.offsetHeight-window.innerHeight/2)+"px"})}}})}),window.onresize=function(){ScrollTrigger.refresh()},window.addEventListener("DOMContentLoaded",init);