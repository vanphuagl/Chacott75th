"use strict";function raf(e){lenis.raf(e),requestAnimationFrame(raf)}const init=()=>{console.clear(),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.clearScrollMemory("manual"),ScrollTrigger.refresh(),window.innerWidth<1024&&ScrollTrigger.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"}),appHeight(),document.getElementById("homepage")&&(initLoader(),scrollEvents());new LazyLoad({threshold:0})},lenis=new Lenis({lerp:.05,smoothWheel:!0});lenis.on("scroll",ScrollTrigger.update),requestAnimationFrame(raf);const initLoader=()=>{lenis.stop();const e=gsap.timeline({onComplete:()=>{lenis.start(),ScrollTrigger.create({animation:gsap.fromTo("[data-logo-shrink]",{opacity:1},{opacity:0,duration:1,ease:Power4.easeInOut}),trigger:"[data-top-chacott]",start:"top+=10% center",end:"top+=10% center",toggleActions:"play none reverse none",markers:!1})}});e.to("[data-loading-logo]",{opacity:1,duration:1,delay:1,ease:Power4.easeInOut}).to("[data-loading-overlay]",{top:0,duration:1.8,delay:1,ease:Power4.easeOut}).to("[data-logo-shrink]",{opacity:1,duration:.5,onComplete:()=>{gsap.to("[data-loading]",{zIndex:"-100"})}},"-=0.7").to("[data-header-logo], [data-scrolldown]",{opacity:1,duration:1,delay:3.8,ease:Power4.easeInOut})},appHeight=()=>{const e=document.documentElement;e.style.setProperty("--app-height",`${document.documentElement.clientHeight}px`)};window.addEventListener("resize",appHeight);const scrollEvents=()=>{let e=gsap.matchMedia(),t=1024;e.add({isDesktop:`(min-width: ${t}px)`,isMobile:`(max-width: ${t-1}px)`},e=>{let{isMobile:t}=e.conditions;ScrollTrigger.create({animation:gsap.from("[data-logo-shrink]",{height:"100%",width:"100%",duration:1}),start:100,scrub:!0,trigger:".top",start:"top bottom",endTrigger:".top",end:"top center",markers:!1}),ScrollTrigger.create({trigger:"[data-offset-top]",start:"top+=50 top",end:"top top",toggleActions:"play none reverse none",markers:!1,onEnter:()=>{gsap.to("[data-header-logo]",{opacity:0,duration:.2}),gsap.to("[data-logo-shrink] svg",{y:0}),t&&gsap.to("[data-scrolldown]",{opacity:0,duration:.2})},onEnterBack:()=>{gsap.to("[data-header-logo]",{opacity:1,duration:.2}),gsap.to("[data-logo-shrink] svg",{y:t?-30:0}),t&&gsap.to("[data-scrolldown]",{opacity:1,duration:.2})}}),ScrollTrigger.create({trigger:"[data-anni]",start:"top bottom",end:"top bottom",markers:!1,invalidateOnRefresh:!0,onEnter:()=>{gsap.to(".top_chacott_inner, [data-scrolldown]",{opacity:0,duration:.2})},onEnterBack:()=>{gsap.to(".top_chacott_inner, [data-scrolldown]",{opacity:1,duration:.2})}}),t&&ScrollTrigger.create({trigger:"[data-top-chacott]",start:"bottom bottom",end:"bottom bottom",markers:!1,invalidateOnRefresh:!0,onEnter:()=>{gsap.to("[data-scrolldown]",{opacity:1,duration:.2})},onEnterBack:()=>{gsap.to("[data-scrolldown]",{opacity:0,duration:.2})}}),t&&gsap.to(".anni_logo",{scrollTrigger:{trigger:".anni",start:"top top",pin:".anni_logo",markers:!1}})})},[fadeInArray]=[document.querySelectorAll("[data-fadein]")],addFadeOnElements=function(e){if(e)for(let t=0;t<e.length;t++){let o=e[t],a=o.getBoundingClientRect().top-window.innerHeight+100;a<0&&o.classList.add("--visible")}};window.addEventListener("scroll",function(){addFadeOnElements(fadeInArray)}),window.addEventListener("pageshow",function(){addFadeOnElements(fadeInArray)});let panels=gsap.utils.toArray("section");if(panels.pop(),panels.forEach((e,t)=>{gsap.timeline({scrollTrigger:{trigger:e,start:"bottom bottom",pinSpacing:!1,pin:!0,scrub:!0,markers:!1,invalidateOnRefresh:!0,onRefresh:()=>{gsap.set(e,{transformOrigin:"center "+(window.innerHeight+e.offsetHeight-window.innerHeight/2)+"px"})}}})}),document.getElementById("detailspage")){new Swiper(".detail_gallery",{breakpoints:{0:{slidesPerView:1.235,spaceBetween:15,allowTouchMove:!0,draggable:!0},1024:{slidesPerView:3,spaceBetween:40,draggable:!1,allowTouchMove:!1}}})}window.addEventListener("resize",()=>{window.innerWidth>1023&&ScrollTrigger.refresh()}),window.addEventListener("DOMContentLoaded",init);