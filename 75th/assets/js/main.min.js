"use strict";function raf(t){lenis.raf(t),requestAnimationFrame(raf)}const init=()=>{console.clear(),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.clearScrollMemory("manual"),ScrollTrigger.refresh(),window.innerWidth<1024&&ScrollTrigger.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"}),appHeight(),initLoader(),scrollEvents();new LazyLoad({threshold:0})},lenis=new Lenis({lerp:.05,smoothWheel:!0});lenis.on("scroll",ScrollTrigger.update),requestAnimationFrame(raf);const initLoader=()=>{lenis.stop();const t=gsap.timeline({onComplete:()=>{lenis.start(),ScrollTrigger.create({animation:gsap.fromTo("[data-logo-shrink]",{opacity:1},{opacity:0,duration:1,ease:Power4.easeInOut}),trigger:"[data-top-chacott]",start:"top+=10% center",end:"top+=10% center",toggleActions:"play none reverse none",markers:!1})}});t.to("[data-loading-logo]",{opacity:1,duration:1,delay:1,ease:Power4.easeInOut}).to("[data-loading-overlay]",{top:0,duration:1.8,delay:1,ease:Power4.easeOut}).to("[data-logo-shrink]",{opacity:1,duration:.5,onComplete:()=>{gsap.to("[data-loading]",{zIndex:"-100"})}},"-=0.7").to("[data-header-logo], [data-scrolldown]",{opacity:1,duration:1,delay:3.8,ease:Power4.easeInOut})},appHeight=()=>{const t=document.documentElement;t.style.setProperty("--app-height",`${document.documentElement.clientHeight}px`)};window.addEventListener("resize",appHeight);const scrollEvents=()=>{let t=gsap.matchMedia(),e=1024;t.add({isDesktop:`(min-width: ${e}px)`,isMobile:`(max-width: ${e-1}px)`},t=>{let{isMobile:e}=t.conditions;ScrollTrigger.create({animation:gsap.from("[data-logo-shrink]",{height:"100%",width:"100%",duration:1}),start:100,scrub:!0,trigger:".top",start:"top bottom",endTrigger:".top",end:"top center",markers:!1}),ScrollTrigger.create({trigger:"[data-offset-top]",start:"top+=50 top",end:"top top",toggleActions:"play none reverse none",markers:!1,onEnter:()=>{gsap.to("[data-header-logo]",{opacity:0,duration:.2}),gsap.to("[data-logo-shrink] svg",{y:0}),e&&gsap.to("[data-scrolldown]",{opacity:0,duration:.2})},onEnterBack:()=>{gsap.to("[data-header-logo]",{opacity:1,duration:.2}),gsap.to("[data-logo-shrink] svg",{y:e?-30:0}),e&&gsap.to("[data-scrolldown]",{opacity:1,duration:.2})}}),ScrollTrigger.create({trigger:"[data-anni]",start:"top bottom",end:"top bottom",markers:!1,invalidateOnRefresh:!0,onEnter:()=>{gsap.to(".top_chacott_inner, [data-scrolldown]",{opacity:0,duration:.2})},onEnterBack:()=>{gsap.to(".top_chacott_inner, [data-scrolldown]",{opacity:1,duration:.2})}}),e&&ScrollTrigger.create({trigger:"[data-top-chacott]",start:"bottom bottom",end:"bottom bottom",markers:!1,invalidateOnRefresh:!0,onEnter:()=>{gsap.to("[data-scrolldown]",{opacity:1,duration:.2})},onEnterBack:()=>{gsap.to("[data-scrolldown]",{opacity:0,duration:.2})}}),e&&gsap.to(".anni_logo",{scrollTrigger:{trigger:".anni",start:"top top",pin:".anni_logo",markers:!1}})})},[fadeInArray]=[document.querySelectorAll("[data-fadein]")],addFadeOnElements=function(t){if(t)for(let e=0;e<t.length;e++){let o=t[e],a=o.getBoundingClientRect().top-window.innerHeight+100;a<0&&o.classList.add("--visible")}};window.addEventListener("scroll",function(){addFadeOnElements(fadeInArray)});let panels=gsap.utils.toArray("section");panels.pop(),panels.forEach((t,e)=>{gsap.timeline({scrollTrigger:{trigger:t,start:"bottom bottom",pinSpacing:!1,pin:!0,scrub:!0,markers:!1,invalidateOnRefresh:!0,onRefresh:()=>{gsap.set(t,{transformOrigin:"center "+(window.innerHeight+t.offsetHeight-window.innerHeight/2)+"px"})}}})}),window.addEventListener("resize",()=>{window.innerWidth>1023&&ScrollTrigger.refresh()}),window.addEventListener("DOMContentLoaded",init);